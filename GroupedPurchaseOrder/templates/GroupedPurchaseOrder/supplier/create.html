{% extends 'GroupedPurchaseOrder/base.html' %}
{% load static i18n %}

{% block title %}{{ update|yesno:_("Update,New supplier") }}{% endblock %}

{% block nav-suppliers %}active{% endblock %}

{% block breadcrumb %}
  <li><a href="{% url 'index' %}">{% trans "Home" %}</a></li>
  <li><a href="{% url 'suppliers.index' %}">{% trans "Suppliers" %}</a></li>
  <li class="active">{{ update|yesno:_("Update,Create") }}</li>
{% endblock %}

{% block body %}
<h2>{% if update %}{% blocktrans with supplier.name as name %}Update «{{ name }}»{% endblocktrans %}
  {% else %}{% trans "New supplier" %}{% endif %}</h2>

<div class="row">
  <div class="col-md-12">
    {% if messages %}
      <div class="col-md-12">
	{% for message in messages %}
	  {% comment %}alert-{{ message.tags|default:'danger' }}{% endcomment %}
	  <div class="alert alert-warning alert-dismissible" role="alert">
	    <button type="button" class="close" data-dismiss="alert">
	      <span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	    <strong>{{ message.tags|default:'error'|capfirst }}:</strong> {{ message }}
	  </div>
	{% endfor %}
      </div>
    {% endif %}

    <form class="form-horizontal" role="form" action="." method="post">
      {% csrf_token %}
      <div class="row">
	<div class="col-md-6">
          <h4 class="modal-header">{% trans "Global information" %}</h4>
          <div class="form-group{% if form.name.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_name">{% trans "Name" %}</label>
            <div class="col-md-8">
              {{ form.name }}
              {% for error in form.name.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
          </div>
          <div class="form-group{% if form.url.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_url">{% trans "Url" %}</label>
            <div class="col-md-8">
              {{ form.url }}
              {% for error in form.url.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
          </div>
          <div class="form-group{% if form.purchase_therms_url.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_purchase_therms_url">{% trans "Purchase_therms_url" %}</label>
            <div class="col-md-8">
              {{ form.purchase_therms_url }}
              {% for error in form.purchase_therms_url.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
	  </div>
          <div class="form-group{% if form.delivery_therms_url.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_delivery_therms_url">{% trans "Delivery_therms_url" %}</label>
            <div class="col-md-8">
              {{ form.delivery_therms_url }}
              {% for error in form.delivery_therms_url.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
          </div>
          <div class="form-group{% if form.description.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_description">{% trans "Description" %}</label>
            <div class="col-md-8">
              {{ form.description }}
              {% for error in form.description.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
          </div>
          <div class="form-group{% if form.minimum_purchase.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_minimum_purchase">{% trans "Minimum_purchase" %}</label>
            <div class="col-md-8">
              {{ form.minimum_purchase }}
              {% for error in form.minimum_purchase.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
          </div>
	  <div class="form-group{% if form.free_shipment_threshold.errors %} has-error{% endif %}">
            <label class="col-md-4 control-label" for="id_free_shipment_threshold">{% trans "Free_shipment_threshold" %}</label>
            <div class="col-md-8">
              {{ form.free_shipment_threshold }}
              {% for error in form.free_shipment_threshold.errors %}
		<p class="help-block">{{ error }}</p>
              {% endfor %}
            </div>
	  </div>
	</div>
	<div class="form-group">
	  <div class="col-md-10 col-md-offset-2">
            <button type="submit" class="btn btn-primary">{{ update|yesno:_("Update,Create") }}</button>
	  </div>
	</div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
